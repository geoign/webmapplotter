# WebMapPlotter
シンプルで使いやすいWebベースの地図アプリケーションです。緯度経度とテキストデータを地図上に複数レイヤーとしてプロットできます。

## 🌟 主な機能

- **大画面地図表示** - Leafletを使用した全画面地図
- **複数ベースマップ** - OpenStreetMap、Google Map、地理院地図を切り替え可能
- **柔軟なデータ入力** - カンマ区切り・タブ区切りの両方に対応（Excelから直接コピー&ペースト可能）
- **テキストマーカー** - 数字や記号、文字をそのままマーカーとして表示
- **複数レイヤー管理** - 異なる色で複数のデータセットを重ね合わせ表示
- **自動ズーム機能** - データプロット後、自動的に全データが見える範囲に移動
- **視認性の高いデザイン** - 色に応じた最適な縁取り（明るい色→黒縁、暗い色→白縁）

## 📋 使い方

1. **Webページを開く**
   - HTMLファイルをブラウザで開きます

2. **データを準備**
   - レイヤー名を入力（例：「観光地」「店舗情報」など）
   - 緯度経度とテキストのデータを準備

3. **データを入力**
   - テキストエリアに以下の形式でデータを入力またはペースト：
   ```
   緯度,経度,テキスト
   35.6812,139.7671,東京駅
   35.6586,139.7454,東京タワー
   ```
   
   - Excelからコピーした場合（タブ区切り）も自動認識：
   ```
   35.6812[TAB]139.7671[TAB]東京駅
   35.6586[TAB]139.7454[TAB]東京タワー
   ```

4. **プロット実行**
   - 「データをプロット」ボタンをクリック
   - 地図上にテキストが表示され、自動的にズーム

5. **レイヤー管理**
   - 右上のレイヤーコントロールで各レイヤーの表示/非表示を切り替え
   - 新しいデータセットを追加すると異なる色で表示

## 🗺️ データ形式

### 基本形式
```
緯度,経度,表示テキスト
```

### 例
- 数字マーカー: `35.6812,139.7671,1`
- 記号マーカー: `35.6586,139.7454,★`
- 文字マーカー: `35.7100,139.8107,スカイツリー`

### 注意事項
- 緯度は-90〜90の範囲
- 経度は-180〜180の範囲
- テキストは任意の文字列（改行は不可）
- 3列目以降にカンマやタブが含まれていても、すべてテキストとして扱われます

## 🛠️ 技術仕様

### 使用ライブラリ
- **Leaflet** v1.9.4 - 地図表示ライブラリ

### ベースマップ
- OpenStreetMap
- Google Maps（ラスタータイル）
- 国土地理院地図

### ブラウザ要件
- モダンブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript有効

### 特徴
- 外部依存ライブラリは最小限（LeafletのCDNのみ）
- レスポンシブデザイン
- ローカルストレージ不使用（リロードでデータクリア）

## 📝 カスタマイズ

### 初期表示位置の変更
```javascript
const map = L.map('map').setView([35.6812, 139.7671], 6);
// [緯度, 経度], ズームレベル
```

### 色のカスタマイズ
`getRandomColor`関数内の配列を編集して、使用する色を変更できます。

### マーカーサイズの変更
CSSの`.text-marker`クラスの`font-size`を調整します。

## 🔧 トラブルシューティング

**Q: データをプロットしても地図が移動しない**
- A: 緯度経度が正しい数値か確認してください

**Q: Excelからのコピー&ペーストが機能しない**
- A: タブ文字が正しくコピーされているか確認してください

**Q: テキストが見えにくい**
- A: 自動的に色に応じた縁取りが適用されますが、極端に長いテキストは避けてください

## 📄 ライセンス
このプロジェクトはMITライセンスの下で公開されています。

### 使用ライブラリのライセンス
- Leaflet: BSD-2-Clause License
- OpenStreetMap: ODbL License
- 国土地理院地図: 国土地理院コンテンツ利用規約に準拠
